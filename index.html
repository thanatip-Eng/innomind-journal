<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EL Daily Journal - Experiential Learning</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&family=Sarabun:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="spinner"></div>
        <p class="loading-text">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
    </div>

    <!-- Login Page -->
    <div id="login-page" class="page">
        <div class="login-container">
            <div class="login-left">
                <div class="shape shape-1"></div>
                <div class="shape shape-2"></div>
                <div class="shape shape-3"></div>
                <div class="login-branding">
                    <div class="login-logo">üìö</div>
                    <h1>EL Daily Journal</h1>
                    <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏à‡∏≤‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå</p>
                </div>
            </div>
            <div class="login-right">
                <div class="login-form-container">
                    <div class="login-form-header">
                        <h2>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h2>
                        <p>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏à‡∏≤‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
                    </div>
                    <form id="login-form" class="login-form">
                        <div class="form-group">
                            <label for="login-email">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                            <input type="email" id="login-email" required placeholder="your@email.com">
                        </div>
                        <div class="form-group">
                            <label for="login-password">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
                            <input type="password" id="login-password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                        </div>
                        <button type="submit" class="btn-login">
                            ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
                        </button>
                    </form>
                    <div id="login-error" class="error-message"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Set Password Page (First Login) -->
    <div id="set-password-page" class="page hidden">
        <div class="login-container">
            <div class="login-left">
                <div class="shape shape-1"></div>
                <div class="shape shape-2"></div>
                <div class="shape shape-3"></div>
                <div class="login-branding">
                    <div class="login-logo">üîê</div>
                    <h1>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</h1>
                    <p>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
                </div>
            </div>
            <div class="login-right">
                <div class="login-form-container">
                    <div class="login-form-header">
                        <h2>‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö!</h2>
                        <p>‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà</p>
                    </div>
                    <form id="set-password-form" class="login-form">
                        <div class="form-group">
                            <label>‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                            <input type="email" id="set-password-email" disabled style="background:var(--bg-secondary);">
                        </div>
                        <div class="form-group">
                            <label for="new-password">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà</label>
                            <input type="password" id="new-password" required minlength="6" placeholder="‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 6 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£">
                        </div>
                        <div class="form-group">
                            <label for="confirm-password">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
                            <input type="password" id="confirm-password" required minlength="6" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á">
                        </div>
                        <button type="submit" class="btn-login">
                            <i class="fas fa-check"></i> ‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô
                        </button>
                    </form>
                    <div id="set-password-error" class="error-message"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Super Admin Dashboard -->
    <div id="admin-page" class="page hidden">
        <div class="app-layout">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-header">
                    <div class="sidebar-logo">üìö</div>
                    <div class="sidebar-brand">
                        <span class="sidebar-title">EL Journal</span>
                        <span class="sidebar-subtitle">Admin Panel</span>
                    </div>
                </div>
                
                <nav class="sidebar-nav">
                    <button class="sidebar-item active" data-tab="admin-users">
                        <i class="fas fa-users"></i>
                        <span>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</span>
                    </button>
                    <button class="sidebar-item" data-tab="admin-groups">
                        <i class="fas fa-layer-group"></i>
                        <span>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡∏∏‡πà‡∏°</span>
                    </button>
                    <button class="sidebar-item" data-tab="admin-events">
                        <i class="fas fa-calendar-alt"></i>
                        <span>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ó‡πå</span>
                    </button>
                    <button class="sidebar-item" data-tab="admin-stats">
                        <i class="fas fa-chart-bar"></i>
                        <span>‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</span>
                    </button>
                </nav>
                
                <div class="sidebar-footer">
                    <div class="sidebar-user">
                        <div class="sidebar-avatar">A</div>
                        <div class="sidebar-user-info">
                            <span class="sidebar-user-name" id="admin-name">Admin</span>
                            <span class="sidebar-user-role">Super Admin</span>
                        </div>
                    </div>
                    <button id="admin-logout" class="sidebar-logout">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </aside>
            
            <!-- Main Content -->
            <main class="main-with-sidebar">
                <!-- Users Management -->
                <div id="admin-users" class="tab-content active">
                    <div class="page-header flex justify-between items-center flex-wrap gap-2">
                        <div>
                            <h1 class="page-title">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h1>
                            <p class="page-subtitle">‡πÄ‡∏û‡∏¥‡πà‡∏° ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå</p>
                        </div>
                        <div class="flex gap-2 flex-wrap">
                            <button class="btn btn-secondary" onclick="downloadCSVTemplate('users')">
                                <i class="fas fa-download"></i> Template CSV
                            </button>
                            <button class="btn btn-accent" onclick="showImportUsersModal()">
                                <i class="fas fa-file-import"></i> ‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤ CSV
                            </button>
                            <button class="btn btn-primary" onclick="showAddUserModal()">
                                <i class="fas fa-plus"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
                            </button>
                        </div>
                    </div>
                    
                    <div class="card mb-3">
                        <div class="card-header flex justify-between items-center">
                            <h3 class="card-title"><i class="fas fa-user-graduate icon"></i> ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</h3>
                        </div>
                        <div class="card-body">
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>‡∏≠‡∏µ‡πÄ‡∏°‡∏•</th>
                                            <th>‡∏ä‡∏∑‡πà‡∏≠</th>
                                            <th>‡∏Å‡∏•‡∏∏‡πà‡∏°</th>
                                            <th>‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ó‡πå</th>
                                            <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                            <th>‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                                        </tr>
                                    </thead>
                                    <tbody id="students-table">
                                        <!-- Dynamic content -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title"><i class="fas fa-chalkboard-teacher icon"></i> ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå</h3>
                    </div>
                    <div class="card-body">
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>‡∏≠‡∏µ‡πÄ‡∏°‡∏•</th>
                                        <th>‡∏ä‡∏∑‡πà‡∏≠</th>
                                        <th>‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà‡∏î‡∏π‡πÅ‡∏•</th>
                                        <th>‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                                    </tr>
                                </thead>
                                <tbody id="teachers-table">
                                    <!-- Dynamic content -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Groups Management -->
            <div id="admin-groups" class="tab-content hidden">
                <div class="page-header flex justify-between items-center">
                    <div>
                        <h1 class="page-title">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡∏∏‡πà‡∏°</h1>
                        <p class="page-subtitle">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</p>
                    </div>
                    <button class="btn btn-primary" onclick="showAddGroupModal()">
                        <i class="fas fa-plus"></i> ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°
                    </button>
                </div>
                
                <div id="groups-container" class="groups-grid">
                    <!-- Dynamic content -->
                </div>
            </div>

            <!-- Events Management -->
            <div id="admin-events" class="tab-content hidden">
                <div class="page-header flex justify-between items-center flex-wrap gap-2">
                    <div>
                        <h1 class="page-title">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ó‡πå</h1>
                        <p class="page-subtitle">‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° Experiential Learning</p>
                    </div>
                    <div class="flex gap-2">
                        <button class="btn btn-secondary" onclick="downloadCSVTemplate('events')">
                            <i class="fas fa-download"></i> Template CSV
                        </button>
                        <button class="btn btn-accent" onclick="showImportEventsModal()">
                            <i class="fas fa-file-import"></i> ‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤ CSV
                        </button>
                        <button class="btn btn-primary" onclick="showAddEventModal()">
                            <i class="fas fa-plus"></i> ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ó‡πå
                        </button>
                    </div>
                </div>
                
                <div id="events-container" class="events-list">
                    <!-- Dynamic content -->
                </div>
            </div>

            <!-- Statistics -->
            <div id="admin-stats" class="tab-content hidden">
                <div class="page-header">
                    <h1 class="page-title">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h1>
                    <p class="page-subtitle">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡∏≠‡∏á‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card primary">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-total-students">0</div>
                            <div class="stat-label">‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                        </div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-completed-today">0</div>
                            <div class="stat-label">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß</div>
                        </div>
                    </div>
                    <div class="stat-card accent">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-pending-today">0</div>
                            <div class="stat-label">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</div>
                        </div>
                    </div>
                    <div class="stat-card info">
                        <div class="stat-icon">
                            <i class="fas fa-percentage"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-completion-rate">0%</div>
                            <div class="stat-label">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</div>
                        </div>
                    </div>
                </div>

                <div class="card mt-3">
                    <div class="card-header">
                        <h3 class="card-title"><i class="fas fa-layer-group icon"></i> ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏£‡∏≤‡∏¢‡∏Å‡∏•‡∏∏‡πà‡∏°</h3>
                    </div>
                    <div class="card-body">
                        <div id="group-stats-container">
                            <!-- Dynamic content -->
                        </div>
                    </div>
                </div>

                <div class="card mt-3">
                    <div class="card-header">
                        <h3 class="card-title"><i class="fas fa-calendar-check icon"></i> ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</h3>
                    </div>
                    <div class="card-body">
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
                                        <th>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß</th>
                                        <th>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</th>
                                        <th>‡∏≠‡∏±‡∏ï‡∏£‡∏≤</th>
                                    </tr>
                                </thead>
                                <tbody id="daily-stats-table">
                                    <!-- Dynamic content -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            </main>
        </div>
    </div>

    <!-- Teacher Dashboard -->
    <div id="teacher-page" class="page hidden">
        <nav class="navbar">
            <div class="nav-brand">
                <div class="nav-logo">üìö</div>
                <span class="nav-title">EL Journal</span>
            </div>
            <div class="nav-user">
                <div class="user-info">
                    <div class="user-avatar" id="teacher-avatar">T</div>
                    <span class="user-name" id="teacher-name">‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå</span>
                    <span class="role-badge teacher">‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå</span>
                </div>
                <button id="teacher-logout" class="btn-logout">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</span>
                </button>
            </div>
        </nav>

        <main class="main-content">
            <!-- Tab Navigation -->
            <div class="tab-nav">
                <button class="tab-btn active" data-tab="teacher-students">
                    <span class="icon"><i class="fas fa-users"></i></span>
                    ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°
                </button>
                <button class="tab-btn" data-tab="teacher-overview">
                    <span class="icon"><i class="fas fa-chart-line"></i></span>
                    ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°
                </button>
            </div>

            <!-- Students List -->
            <div id="teacher-students" class="tab-content active">
                <div class="page-header">
                    <h1 class="page-title">‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°</h1>
                    <p class="page-subtitle">‡∏î‡∏π‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ <span id="teacher-group-name" class="badge badge-info"></span></p>
                </div>
                
                <div id="teacher-students-grid" class="students-grid">
                    <!-- Dynamic content -->
                </div>
            </div>

            <!-- Overview -->
            <div id="teacher-overview" class="tab-content hidden">
                <div class="page-header">
                    <h1 class="page-title">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏°</h1>
                    <p class="page-subtitle">‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡∏≠‡∏á‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°</p>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card primary">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="teacher-stat-students">0</div>
                            <div class="stat-label">‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°</div>
                        </div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="teacher-stat-completed">0</div>
                            <div class="stat-label">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏£‡∏ö‡πÅ‡∏•‡πâ‡∏ß</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Student Detail View (for Teacher) -->
    <div id="student-detail-page" class="page hidden">
        <nav class="navbar">
            <div class="nav-brand">
                <button class="btn btn-secondary btn-sm" onclick="backToTeacherDashboard()">
                    <i class="fas fa-arrow-left"></i> ‡∏Å‡∏•‡∏±‡∏ö
                </button>
                <span class="nav-title" id="viewing-student-name">‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</span>
            </div>
            <div class="nav-user">
                <button id="student-detail-logout" class="btn-logout">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</span>
                </button>
            </div>
        </nav>

        <main class="main-content">
            <div class="student-detail-container">
                <div class="detail-sidebar">
                    <div class="card">
                        <div class="card-body text-center">
                            <div class="student-avatar" style="width:80px;height:80px;font-size:2rem;margin:0 auto 1rem;">
                                <i class="fas fa-user-graduate"></i>
                            </div>
                            <h3 id="detail-student-name" style="font-family:var(--font-display);margin-bottom:0.25rem;"></h3>
                            <p id="detail-student-email" style="color:var(--text-muted);font-size:0.875rem;"></p>
                            <div class="flex justify-center gap-2 mt-2">
                                <div class="journey-stat" style="flex:1;">
                                    <div class="value" id="detail-journals-count">0</div>
                                    <div class="label">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</div>
                                </div>
                                <div class="journey-stat" style="flex:1;">
                                    <div class="value" id="detail-completion">0%</div>
                                    <div class="label">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- AI Skill Gap Analysis -->
                    <div class="ai-panel mt-3">
                        <div class="ai-panel-header">
                            <div class="ai-icon">ü§ñ</div>
                            <h3>AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Skill Gap</h3>
                        </div>
                        <button class="btn btn-primary w-full mb-2" onclick="analyzeSkillGap()">
                            <i class="fas fa-sync"></i> ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå
                        </button>
                        <div id="ai-analysis-result" class="ai-content">
                            <p class="text-center" style="color:var(--text-muted);">‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ AI ‡∏ä‡πà‡∏ß‡∏¢‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Skill Gap</p>
                        </div>
                    </div>
                </div>

                <div class="detail-main">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-history icon"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á</h3>
                        </div>
                        <div class="card-body">
                            <div class="timeline" id="student-journals-timeline">
                                <!-- Dynamic content -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Student Dashboard -->
    <div id="student-page" class="page hidden">
        <nav class="navbar">
            <div class="nav-brand">
                <div class="nav-logo">üìö</div>
                <span class="nav-title">EL Journal</span>
            </div>
            <div class="nav-user">
                <div class="user-info">
                    <div class="user-avatar" id="student-avatar">S</div>
                    <span class="user-name" id="student-name">‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</span>
                    <span class="role-badge student">‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</span>
                </div>
                <button id="student-logout" class="btn-logout">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</span>
                </button>
            </div>
        </nav>

        <main class="main-content">
            <!-- Tab Navigation -->
            <div class="tab-nav">
                <button class="tab-btn active" data-tab="student-calendar">
                    <span class="icon"><i class="fas fa-calendar-alt"></i></span>
                    ‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô
                </button>
                <button class="tab-btn" data-tab="student-journal">
                    <span class="icon"><i class="fas fa-pen"></i></span>
                    ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
                </button>
                <button class="tab-btn" data-tab="student-history">
                    <span class="icon"><i class="fas fa-history"></i></span>
                    ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á
                </button>
                <button class="tab-btn" data-tab="student-community">
                    <span class="icon"><i class="fas fa-users"></i></span>
                    ‡πÇ‡∏ô‡πâ‡∏ï‡∏ä‡∏∏‡∏°‡∏ä‡∏ô
                </button>
                <button class="tab-btn" data-tab="student-journey">
                    <span class="icon"><i class="fas fa-map"></i></span>
                    Learning Journey
                </button>
            </div>

            <!-- Calendar View -->
            <div id="student-calendar" class="tab-content active">
                <div class="page-header">
                    <h1 class="page-title">‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h1>
                    <div class="event-info" id="current-event-info">
                        <!-- Dynamic content -->
                    </div>
                </div>
                
                <div class="calendar-container">
                    <div class="calendar-header">
                        <button class="btn btn-icon" id="prev-month" style="background:rgba(255,255,255,0.2);color:white;border:none;">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <h3 class="calendar-title" id="calendar-month-year"></h3>
                        <button class="btn btn-icon" id="next-month" style="background:rgba(255,255,255,0.2);color:white;border:none;">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                    <div class="calendar-weekdays">
                        <div class="calendar-weekday">‡∏≠‡∏≤</div>
                        <div class="calendar-weekday">‡∏à</div>
                        <div class="calendar-weekday">‡∏≠</div>
                        <div class="calendar-weekday">‡∏û</div>
                        <div class="calendar-weekday">‡∏û‡∏§</div>
                        <div class="calendar-weekday">‡∏®</div>
                        <div class="calendar-weekday">‡∏™</div>
                    </div>
                    <div class="calendar-days" id="calendar-days">
                        <!-- Dynamic content -->
                    </div>
                    
                    <!-- Calendar Legend -->
                    <div class="calendar-legend">
                        <div class="calendar-legend-item">
                            <span class="legend-dot completed"></span>
                            <span>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß</span>
                        </div>
                        <div class="calendar-legend-item">
                            <span class="legend-dot pending"></span>
                            <span>‡∏£‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</span>
                        </div>
                        <div class="calendar-legend-item">
                            <span class="legend-dot future"></span>
                            <span>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡∏•‡∏≤</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Journal Entry -->
            <div id="student-journal" class="tab-content hidden">
                <div class="journal-form-container">
                    <div class="journal-date-header">
                        <div class="date-icon">üìù</div>
                        <h3>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Reflection</h3>
                        <p id="journal-date"></p>
                    </div>
                
                    <form id="journal-form" class="journal-form">
                        <div class="form-section">
                            <h3 class="form-section-title"><i class="fas fa-comment-dots icon"></i> ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h3>
                            <textarea id="journal-learning" rows="4" placeholder="‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏à‡∏≤‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ..."></textarea>
                        </div>

                        <div class="form-section">
                            <h3 class="form-section-title"><i class="fas fa-heart icon"></i> ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå</h3>
                            <textarea id="journal-feeling" rows="3" placeholder="‡∏Ñ‡∏∏‡∏ì‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á..."></textarea>
                        </div>

                        <div class="form-section">
                            <h3 class="form-section-title"><i class="fas fa-lightbulb icon"></i> ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏ï‡πà‡∏≠</h3>
                            <textarea id="journal-application" rows="3" placeholder="‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ô‡∏≥‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£..."></textarea>
                        </div>

                        <div class="form-section">
                            <h3 class="form-section-title"><i class="fas fa-paperclip icon"></i> ‡πÅ‡∏ô‡∏ö‡πÑ‡∏ü‡∏•‡πå (‡∏£‡∏π‡∏õ, PDF, ‡πÄ‡∏™‡∏µ‡∏¢‡∏á)</h3>
                            <div class="file-upload-area" id="journal-file-area">
                                <input type="file" id="journal-files" multiple accept="image/*,.pdf,audio/*" style="display:none;">
                                <div class="upload-icon">üìé</div>
                                <p>‡∏Ñ‡∏•‡∏¥‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</p>
                                <span>‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö: ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û, PDF, ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏™‡∏µ‡∏¢‡∏á</span>
                            </div>
                            <div id="file-preview" class="file-preview"></div>
                        </div>

                        <div class="clo-assessment">
                            <h3 class="clo-assessment-title">‚≠ê ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ï‡∏≤‡∏° CLO</h3>
                            
                            <div class="clo-items">
                                <div class="clo-item">
                                    <div class="clo-item-header">
                                        <div class="clo-label">
                                            <h4>CLO 1: ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ä‡∏∏‡∏°‡∏ä‡∏ô</h4>
                                            <p>‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Ç‡∏≠‡∏á‡∏ä‡∏∏‡∏°‡∏ä‡∏ô‡∏°‡∏≤‡∏Å‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô?</p>
                                        </div>
                                        <div class="star-rating" data-clo="clo1">
                                            <i class="fas fa-star" data-value="1"></i>
                                            <i class="fas fa-star" data-value="2"></i>
                                            <i class="fas fa-star" data-value="3"></i>
                                            <i class="fas fa-star" data-value="4"></i>
                                            <i class="fas fa-star" data-value="5"></i>
                                        </div>
                                    </div>
                                </div>

                                <div class="clo-item">
                                    <div class="clo-item-header">
                                        <div class="clo-label">
                                            <h4>CLO 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°</h4>
                                            <p>‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà‡πÜ ‡∏°‡∏≤‡∏Å‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô?</p>
                                        </div>
                                        <div class="star-rating" data-clo="clo2">
                                            <i class="fas fa-star" data-value="1"></i>
                                            <i class="fas fa-star" data-value="2"></i>
                                            <i class="fas fa-star" data-value="3"></i>
                                            <i class="fas fa-star" data-value="4"></i>
                                            <i class="fas fa-star" data-value="5"></i>
                                        </div>
                                    </div>
                                </div>

                                <div class="clo-item">
                                    <div class="clo-item-header">
                                        <div class="clo-label">
                                            <h4>CLO 3: ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô</h4>
                                            <p>‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡∏°‡πÑ‡∏î‡πâ‡∏î‡∏µ‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô?</p>
                                        </div>
                                        <div class="star-rating" data-clo="clo3">
                                            <i class="fas fa-star" data-value="1"></i>
                                            <i class="fas fa-star" data-value="2"></i>
                                            <i class="fas fa-star" data-value="3"></i>
                                            <i class="fas fa-star" data-value="4"></i>
                                            <i class="fas fa-star" data-value="5"></i>
                                        </div>
                                    </div>
                                </div>

                                <div class="clo-item">
                                    <div class="clo-item-header">
                                        <div class="clo-label">
                                            <h4>CLO 4: ‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡∏ï‡πà‡∏≠‡∏™‡∏±‡∏á‡∏Ñ‡∏°</h4>
                                            <p>‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∏‡∏ì‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡∏ï‡πà‡∏≠‡∏ä‡∏∏‡∏°‡∏ä‡∏ô‡∏°‡∏≤‡∏Å‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô?</p>
                                        </div>
                                        <div class="star-rating" data-clo="clo4">
                                            <i class="fas fa-star" data-value="1"></i>
                                            <i class="fas fa-star" data-value="2"></i>
                                            <i class="fas fa-star" data-value="3"></i>
                                            <i class="fas fa-star" data-value="4"></i>
                                            <i class="fas fa-star" data-value="5"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-section text-center">
                            <button type="submit" class="btn btn-primary btn-lg">
                                <i class="fas fa-save"></i>
                                ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
                            </button>
                        </div>
                    </form>

                    <!-- Teacher Notes (visible if teacher made it visible) -->
                    <div id="teacher-notes-section" class="ai-panel hidden mt-3" style="background:linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);border-color:#93c5fd;">
                        <div class="ai-panel-header">
                            <div class="ai-icon" style="background:linear-gradient(135deg, var(--role-teacher) 0%, #1d4ed8 100%);">üí¨</div>
                            <h3 style="color:#1e40af;">‡πÇ‡∏ô‡πâ‡∏ï‡∏à‡∏≤‡∏Å‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå</h3>
                        </div>
                        <div id="teacher-notes-content" class="ai-content"></div>
                    </div>
                </div>
            </div>

            <!-- History -->
            <div id="student-history" class="tab-content hidden">
                <div class="page-header">
                    <h1 class="page-title">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á</h1>
                    <p class="page-subtitle">‡∏î‡∏π‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Reflection ‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤</p>
                </div>
                
                <div class="card">
                    <div class="card-body">
                        <div id="history-container" class="timeline">
                            <!-- Dynamic content -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Community Notes -->
            <div id="student-community" class="tab-content hidden">
                <div class="page-header">
                    <h1 class="page-title">‡πÇ‡∏ô‡πâ‡∏ï‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏ô‡∏û‡∏ö‡∏à‡∏≤‡∏Å‡∏ä‡∏∏‡∏°‡∏ä‡∏ô</h1>
                    <p class="page-subtitle">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πâ‡∏ô‡∏û‡∏ö ‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏î‡∏à‡∏≥‡∏à‡∏≤‡∏Å‡∏ä‡∏∏‡∏°‡∏ä‡∏ô (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)</p>
                </div>
                
                <div class="card mb-3">
                    <div class="card-body">
                        <form id="community-note-form" class="flex flex-col gap-2">
                            <div class="form-group">
                                <label>‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠</label>
                                <input type="text" id="community-note-title" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏†‡∏π‡∏°‡∏¥‡∏õ‡∏±‡∏ç‡∏ç‡∏≤‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô, ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö">
                            </div>
                            <div class="form-group">
                                <label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</label>
                                <textarea id="community-note-content" rows="4" placeholder="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πâ‡∏ô‡∏û‡∏ö..."></textarea>
                            </div>
                            <div class="form-group">
                                <label>‡πÅ‡∏ô‡∏ö‡πÑ‡∏ü‡∏•‡πå</label>
                                <input type="file" id="community-note-files" multiple>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-plus"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏ô‡πâ‡∏ï
                            </button>
                        </form>
                    </div>
                </div>

                <div id="community-notes-list" class="flex flex-col gap-2">
                    <!-- Dynamic content -->
                </div>
            </div>

            <!-- Learning Journey -->
            <div id="student-journey" class="tab-content hidden">
                <div class="journey-container">
                    <div id="journey-incomplete">
                        <div class="journey-header">
                            <h2>üó∫Ô∏è Learning Journey</h2>
                            <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Reflection ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô</p>
                        </div>
                        
                        <div class="card text-center" style="max-width:500px;margin:2rem auto;">
                            <div class="card-body">
                                <div style="font-size:4rem;margin-bottom:1rem;">‚è≥</div>
                                <h3 style="margin-bottom:1rem;font-family:var(--font-display);">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Learning Journey</h3>
                                <div class="progress-bar mb-2">
                                    <div class="progress-fill" id="journey-progress-bar" style="width:0%"></div>
                                </div>
                                <span id="journey-progress-text" style="color:var(--text-secondary);">0/0 ‡∏ß‡∏±‡∏ô</span>
                            </div>
                        </div>
                    </div>

                    <div id="journey-complete" class="hidden">
                        <div class="journey-header">
                            <h2>üéâ Learning Journey ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
                            <p>‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏à‡∏≤‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ï‡∏•‡∏≠‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</p>
                        </div>
                        
                        <div id="journey-preview" class="mb-3">
                            <!-- Dynamic content -->
                        </div>
                        
                        <div class="text-center">
                            <button class="btn btn-accent btn-lg" onclick="generateJourneyPDF()">
                                <i class="fas fa-download"></i>
                                ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î PDF (A3)
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="modal-overlay" class="modal-overlay">
        <div class="modal" id="modal-container">
            <!-- Dynamic modal content -->
        </div>
    </div>

    <!-- Add User Modal Template -->
    <template id="add-user-modal-template">
        <div class="modal-header">
            <h3>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</h3>
            <button class="modal-close" onclick="closeModal()">√ó</button>
        </div>
        <div class="modal-body">
            <form id="add-user-form" class="flex flex-col gap-2">
                <div class="form-group">
                    <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</label>
                    <select id="user-type" class="form-select" required>
                        <option value="student">‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</option>
                        <option value="teacher">‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                    <input type="email" id="user-email" required placeholder="email@example.com">
                </div>
                <div class="form-group">
                    <label>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                    <input type="text" id="user-name" required placeholder="‡∏ä‡∏∑‡πà‡∏≠ ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•">
                </div>
                <div class="form-group">
                    <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
                    <input type="password" id="user-password" required minlength="6" placeholder="‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 6 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£">
                </div>
                <div class="form-group" id="student-group-field">
                    <label>‡∏Å‡∏•‡∏∏‡πà‡∏°</label>
                    <select id="user-group" class="form-select">
                        <option value="">-- ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏° --</option>
                    </select>
                </div>
                <div class="form-group" id="student-event-field">
                    <label>‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ó‡πå</label>
                    <select id="user-event" class="form-select">
                        <option value="">-- ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ó‡πå --</option>
                    </select>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" onclick="closeModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            <button type="submit" form="add-user-form" class="btn btn-primary">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</button>
        </div>
    </template>

    <!-- Add Group Modal Template -->
    <template id="add-group-modal-template">
        <div class="modal-header">
            <h3>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°</h3>
            <button class="modal-close" onclick="closeModal()">√ó</button>
        </div>
        <div class="modal-body">
            <form id="add-group-form" class="flex flex-col gap-2">
                <div class="form-group">
                    <label>‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏•‡∏∏‡πà‡∏°</label>
                    <input type="text" id="group-name" required placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏•‡∏∏‡πà‡∏° A, ‡∏ó‡∏µ‡∏°‡∏ä‡∏∏‡∏°‡∏ä‡∏ô‡∏ö‡πâ‡∏≤‡∏ô‡∏ô‡∏≤">
                </div>
                <div class="form-group">
                    <label>‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏î‡∏π‡πÅ‡∏•</label>
                    <select id="group-teacher" class="form-select">
                        <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå --</option>
                    </select>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" onclick="closeModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            <button type="submit" form="add-group-form" class="btn btn-primary">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°</button>
        </div>
    </template>

    <!-- Add Event Modal Template -->
    <template id="add-event-modal-template">
        <div class="modal-header">
            <h3>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ó‡πå</h3>
            <button class="modal-close" onclick="closeModal()">√ó</button>
        </div>
        <div class="modal-body">
            <form id="add-event-form" class="flex flex-col gap-2">
                <div class="form-group">
                    <label>‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ó‡πå</label>
                    <input type="text" id="event-name" required placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡πà‡∏≤‡∏¢ EL ‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠">
                </div>
                <div class="flex gap-2">
                    <div class="form-group" style="flex:1;">
                        <label>‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</label>
                        <input type="date" id="event-start" required>
                    </div>
                    <div class="form-group" style="flex:1;">
                        <label>‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</label>
                        <input type="date" id="event-end" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</label>
                    <textarea id="event-description" rows="3" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°..."></textarea>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" onclick="closeModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            <button type="submit" form="add-event-form" class="btn btn-accent">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ó‡πå</button>
        </div>
    </template>

    <!-- Teacher Note Modal Template -->
    <template id="teacher-note-modal-template">
        <div class="modal-header">
            <h3>‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏ô‡πâ‡∏ï‡πÉ‡∏´‡πâ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</h3>
            <button class="modal-close" onclick="closeModal()">√ó</button>
        </div>
        <div class="modal-body">
            <form id="teacher-note-form" class="flex flex-col gap-2">
                <input type="hidden" id="note-student-id">
                <input type="hidden" id="note-date">
                <div class="form-group">
                    <label>‡πÇ‡∏ô‡πâ‡∏ï/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô</label>
                    <textarea id="note-content" rows="4" placeholder="‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥..."></textarea>
                </div>
                <div class="form-group">
                    <label class="flex items-center gap-2" style="cursor:pointer;">
                        <input type="checkbox" id="note-visible" style="width:18px;height:18px;">
                        <span>‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏´‡πâ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏´‡πá‡∏ô</span>
                    </label>
                    <small style="color:var(--text-muted);font-size:0.8125rem;">‡πÇ‡∏î‡∏¢‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô ‡πÇ‡∏ô‡πâ‡∏ï‡∏à‡∏∞‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏´‡πá‡∏ô</small>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" onclick="closeModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            <button type="submit" form="teacher-note-form" class="btn btn-primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÇ‡∏ô‡πâ‡∏ï</button>
        </div>
    </template>

    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Scripts -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-storage-compat.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="js/config.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
